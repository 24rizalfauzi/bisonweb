{"version":3,"sources":["./src/app/pages/settings/settings.page.html","./src/app/pages/settings/settings-routing.module.ts","./src/app/pages/settings/settings.module.ts","./src/app/pages/settings/settings.page.scss","./src/app/pages/settings/settings.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,+qBAAgnB,oBAAoB,sRAAsR,MAAM,MAAM,MAAM,ulB;;;;;;;;;;;;;;;;;;;ACAl5B;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;AAMF,IAAa,yBAAyB,GAAtC,MAAa,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;AAW/C,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;CAAG;AAArB,kBAAkB;IAT9B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kFAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,2DAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;ACnB/B;AAAe,6GAA8C,mJ;;;;;;;;;;;;;;;;;;;ACAX;AACQ;AAGM;AAOhE,IAAa,YAAY,GAAzB,MAAa,YAAY;IAWvB,YAAmB,UAAsB,EAAQ,MAAqB;QAAnD,eAAU,GAAV,UAAU,CAAY;QAAQ,WAAM,GAAN,MAAM,CAAe;QAThE,SAAI,GAAQ,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACpD,aAAQ,GAAQ,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;IAQM,CAAC;IAE3E,QAAQ;QACN,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,GAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB;QACpG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK;QAChC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC;IACtC,CAAC;IAED,eAAe;QACb,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,SAAS,CACrC,CAAC,MAAW,EAAE,EAAE;YACZ,IAAG,MAAM,CAAC,KAAK,IAAE,SAAS,EAAC;gBACzB,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC;gBAC3C,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACjE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC;gBAC/C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,GAAC,mBAAmB,GAAG,MAAM,CAAC,QAAQ,CAAC,gBAAgB;aACvG;iBAAM;gBACL,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;gBACnB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC;aACjC;QACL,CAAC,EACD,CAAC,GAAsB,EAAE,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;QAClB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CAAC,KAAK;QAC9B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,qBAAqB,GAAG,QAAQ,CAAE;IACzC,CAAC;IAED,oBAAoB;QAClB,MAAM,IAAI,GAAG,IAAI,QAAQ,EAAE;QAC3B,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,IAAI,CAAC,kBAAkB,CAAC;QAC1D,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,SAAS,CACxD,CAAC,MAAW,EAAE,EAAE;YACd,IAAI,MAAM,CAAC,YAAY,IAAI,IAAI,EAAG;gBAChC,IAAI,CAAC,kBAAkB,GAAG,SAAS;gBACnC,IAAI,CAAC,qBAAqB,GAAG,EAAE;gBAC/B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,EAAC,QAAQ,EAAC,wBAAwB,EAAE,IAAI,CAAC;gBACrE,IAAI,CAAC,eAAe,EAAE;aACvB;QACH,CAAC,EACD,CAAC,GAAsB,EAAE,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;QAClB,CAAC,CACF,CAAC;IACJ,CAAC;CAEF;;YAtDgC,uEAAU;YAAgB,6EAAa;;AAX3D,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,wNAAmC;;KAEpC,CAAC;2EAY+B,uEAAU,EAAgB,6EAAa;GAX3D,YAAY,CAiExB;AAjEwB","file":"pages-settings-settings-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\" color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Settings</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"1\\\"></ion-col>\\n      <ion-col size=\\\"10\\\">\\n        <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"submitUpdateSettings()\\\" method=\\\"post\\\">\\n          <ion-item>\\n            <ion-text position=\\\"floating\\\">Background login</ion-text>\\n          </ion-item>\\n          <ion-item>\\n            <ion-text>\\n              <img src=\\\"{{backgroundLoginSrc}}\\\"><br>\\n              <label class=\\\"custom-file-upload\\\">\\n                <ion-input [(ngModel)]=\\\"backgroundLoginImg\\\" type=\\\"file\\\" name=\\\"backgroundLoginImg\\\" (change)=\\\"onChangeBackgroundLoginImg($event)\\\"></ion-input>\\n                Ganti\\n              </label>&nbsp;&nbsp;&nbsp;&nbsp;\\n              <div [innerHTML]=\\\"msgBackgroundLoginImg\\\"></div>\\n              <br>\\n            </ion-text>\\n          </ion-item>   \\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">About</ion-label>\\n            <ion-textarea rows=\\\"12\\\" [(ngModel)]=\\\"about\\\" type=\\\"text\\\" name=\\\"about\\\"></ion-textarea>\\n          </ion-item>\\n          <br>\\n          <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\">Update</ion-button>\\n          <br>\\n        </form>\\n      </ion-col>\\n      <ion-col size=\\\"1\\\"></ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NldHRpbmdzL3NldHRpbmdzLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { NgForm } from '@angular/forms';\nimport { ConfigService } from 'src/app/services/config.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n\n\tpublic user: any = JSON.parse(localStorage.getItem('user'));\n  public settings: any = JSON.parse(localStorage.getItem('settings'));\n  \n  public backgroundLoginSrc : any;\n  public backgroundLoginImg : any;\n  public about : any;\n\n  public msgBackgroundLoginImg : any\n\n  constructor(public apiService: ApiService,public config: ConfigService) { }\n\n  ngOnInit() {\n    this.backgroundLoginSrc = this.config.serverUrl+`/assets/settings/` + this.settings.background_login\n    this.about = this.settings.about\n    console.log(this.backgroundLoginSrc)\n  }\n\n  getPageSettings(){\n    this.apiService.getSetToken().subscribe(\n      (result: any) => {\n          if(result.token!=undefined){\n            localStorage.setItem('token', result.token)\n            localStorage.setItem('settings', JSON.stringify(result.settings))\n            this.settings = JSON.stringify(result.settings)\n            this.backgroundLoginSrc = this.config.serverUrl+`/assets/settings/` + result.settings.background_login\n          } else {\n            console.log(result)\n            this.apiService.gangguan(result)\n          }\n      },\n      (err: HttpErrorResponse) => {\n        this.apiService.gangguan(err)\n        console.log(err)\n      }\n    );\n  }\n\n  onChangeBackgroundLoginImg(event) {\n    this.backgroundLoginImg = event.target.files[0];\n    this.msgBackgroundLoginImg = \"1 file\" ;\n  }\n\n  submitUpdateSettings(){\n    const data = new FormData()\n    data.append('activeUserId', this.user.id)\n    data.append('about', this.about)\n    data.append('backgroundLoginImg', this.backgroundLoginImg)\n    this.apiService.postData('updateSettings', data).subscribe(\n      (result: any) => {\n        if (result.responseCode == true ) {\n          this.backgroundLoginImg = undefined\n          this.msgBackgroundLoginImg = ''\n          this.apiService.alert('Info','Sukses','Sukses Update Settings', 'OK')\n          this.getPageSettings()\n        }\n      },\n      (err: HttpErrorResponse) => {\n        this.apiService.gangguan(err)\n        console.log(err)\n      }\n    );\n  }\n\n}\n"],"sourceRoot":"webpack:///"}