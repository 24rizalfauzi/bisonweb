{"version":3,"sources":["src/app/pages/settings/settings.page.html","src/app/pages/settings/settings-routing.module.ts","src/app/pages/settings/settings.module.ts","src/app/pages/settings/settings.page.scss","src/app/pages/settings/settings.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\" color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Settings</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"1\\\"></ion-col>\\n      <ion-col size=\\\"10\\\">\\n        <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"submitUpdateSettings()\\\" method=\\\"post\\\">\\n          <ion-item>\\n            <ion-text position=\\\"floating\\\">Background login</ion-text>\\n          </ion-item>\\n          <ion-item>\\n            <ion-text>\\n              <img src=\\\"{{backgroundLoginSrc}}\\\"><br>\\n              <label class=\\\"custom-file-upload\\\">\\n                <ion-input [(ngModel)]=\\\"backgroundLoginImg\\\" type=\\\"file\\\" name=\\\"backgroundLoginImg\\\" (change)=\\\"onChangeBackgroundLoginImg($event)\\\"></ion-input>\\n                Ganti\\n              </label>&nbsp;&nbsp;&nbsp;&nbsp;\\n              <div [innerHTML]=\\\"msgBackgroundLoginImg\\\"></div>\\n              <br>\\n            </ion-text>\\n          </ion-item>   \\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">About</ion-label>\\n            <ion-textarea rows=\\\"12\\\" [(ngModel)]=\\\"about\\\" type=\\\"text\\\" name=\\\"about\\\"></ion-textarea>\\n          </ion-item>\\n          <br>\\n          <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\">Update</ion-button>\\n          <br>\\n        </form>\\n      </ion-col>\\n      <ion-col size=\\\"1\\\"></ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NldHRpbmdzL3NldHRpbmdzLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { NgForm } from '@angular/forms';\nimport { ConfigService } from 'src/app/services/config.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n\n\tpublic user: any = JSON.parse(localStorage.getItem('user'));\n  public settings: any = JSON.parse(localStorage.getItem('settings'));\n  \n  public backgroundLoginSrc : any;\n  public backgroundLoginImg : any;\n  public about : any;\n\n  public msgBackgroundLoginImg : any\n\n  constructor(public apiService: ApiService,public config: ConfigService) { }\n\n  ngOnInit() {\n    this.backgroundLoginSrc = this.config.serverUrl+`/assets/settings/` + this.settings.background_login\n    this.about = this.settings.about\n    console.log(this.backgroundLoginSrc)\n  }\n\n  getPageSettings(){\n    this.apiService.getSetToken().subscribe(\n      (result: any) => {\n          if(result.token!=undefined){\n            localStorage.setItem('token', result.token)\n            localStorage.setItem('settings', JSON.stringify(result.settings))\n            this.settings = JSON.stringify(result.settings)\n            this.backgroundLoginSrc = this.config.serverUrl+`/assets/settings/` + result.settings.background_login\n          } else {\n            console.log(result)\n            this.apiService.gangguan(result)\n          }\n      },\n      (err: HttpErrorResponse) => {\n        this.apiService.gangguan(err)\n        console.log(err)\n      }\n    );\n  }\n\n  onChangeBackgroundLoginImg(event) {\n    this.backgroundLoginImg = event.target.files[0];\n    this.msgBackgroundLoginImg = \"1 file\" ;\n  }\n\n  submitUpdateSettings(){\n    const data = new FormData()\n    data.append('activeUserId', this.user.id)\n    data.append('about', this.about)\n    data.append('backgroundLoginImg', this.backgroundLoginImg)\n    this.apiService.postData('updateSettings', data).subscribe(\n      (result: any) => {\n        if (result.responseCode == true ) {\n          this.backgroundLoginImg = undefined\n          this.msgBackgroundLoginImg = ''\n          this.apiService.alert('Info','Sukses','Sukses Update Settings', 'OK')\n          this.getPageSettings()\n        }\n      },\n      (err: HttpErrorResponse) => {\n        this.apiService.gangguan(err)\n        console.log(err)\n      }\n    );\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"pages-settings-settings-module-es5.js"}